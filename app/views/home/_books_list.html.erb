<% books.each do |book| %>
  <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800">
    <div class="h-56 w-full">
      <% if book.image.attached? %>
        <%= image_tag url_for(book.image), class: "mx-auto h-full", alt: "#{book.title} cover image" %>
      <% else %>
        <%= image_tag "placeholder.png", class: "mx-auto h-full", alt: "Placeholder image" %>
      <% end %>
    </div>
    <div class="pt-6">
      <h3 class="text-lg font-semibold leading-tight text-gray-900 dark:text-white"><%= book.title %></h3>
      <p class="text-sm text-gray-500 dark:text-gray-400">by <%= book.author %></p>
      <p class="text-sm text-gray-500 dark:text-gray-400">Genre: <%= book.genre.name %></p>

      <div class="flex items-center justify-between mt-4">
        <p class="text-2xl font-extrabold text-gray-900 dark:text-white"><%= number_to_currency(book.price) %></p>

        <%= turbo_frame_tag "cart_button_#{book.id}" do %>
          <%= render partial: "home/cart_button", locals: { book: book, cart: @cart } %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

